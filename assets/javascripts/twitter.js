(function(){var t;t=function(){function t(){}var e,r;return e=jQuery,r="https://script.google.com/macros/s/AKfycbyWQU77RVvMKLQt2PWLrt4tJO_fSoPYcLMtGoiS1HGizqazzvU/exec",t.prototype.getWidgetData=function(t){var n,a,i,o;return i=this,o=(new Date).getTime(),null!=window.localStorage&&(a=window.localStorage.getItem("twitterFeedCacheAge"),n=window.localStorage.getItem("twitterFeedCache"),n&&a&&300>o-a)?this.processWidgetData(n,t):e.ajax({url:r,dataType:"text"}).done(function(e){return window.localStorage.setItem("twitterFeedCache",e),window.localStorage.setItem("twitterFeedCacheAge",o),i.processWidgetData(e,t)})},t.prototype.processWidgetData=function(t,r){var n,a;return a=this,n=[],e(t).find("ol.h-feed > li").each(function(){var t,r,i,o,l;return t=e(this),r={author:t.find(".p-author .full-name .p-name").text(),author_link:t.find(".p-author .u-url.profile").attr("href"),nick:t.find(".p-author .p-nickname").text(),avatar:t.find(".p-author .u-photo.avatar").attr("src"),tweet:a.sanitize(t.find(".e-entry-content .e-entry-title").html()),link:t.find(".header a.u-url.permalink").attr("href"),media:!1,retweet:!1,retweet_count:t.find(".stats-narrow .stats-retweets strong").text(),favorite_count:t.find(".stats-narrow .stats-favorites strong").text(),reply_link:t.find(".tweet-actions .reply-action").attr("href"),retweet_link:t.find(".tweet-actions .retweet-action").attr("href"),favorite_link:t.find(".tweet-actions .favorite-action").attr("href")},i=t.find(".e-entry-content .inline-media"),i.length&&(r.media=a.sanitize(i.html())),l=t.find(".e-entry-content .retweet-credit"),l.length&&(o=l.find(".profile"),r.retweet={author:o.text(),nick:o.attr("href").split("/").slice(-1)[0],link:o.attr("href")}),n.push(r)}),r(n)},t.prototype.renderWidget=function(t,e,r){var n;return null==e&&(e=10),null==r&&(r=null),n=Handlebars.compile(t.html()),this.getWidgetData(function(a){var i;for(i=0;e>i&&i<a.length;)t.parent().append(n(a[i])),i++;return r?r():void 0})},t.prototype.sanitize=function(t){var r,n;return n=this,r=e("<div>"+t+"</div>"),r.find("*").filter(function(){var t,e;for(t=this.attributes,e=0;e<t.length;){if(0===t[e].nodeName.indexOf("data-"))return!0;e++}return!1}).each(function(){return n.removeDataFromElem(e(this))}),r.find("a").each(function(){return e(this).attr("target","_blank")}),r.html()},t.prototype.removeDataFromElem=function(t){var r,n,a,i,o;for(a=e.map(t.data(),function(t,e){return e}),o=[],r=0,i=a.length;i>r;r++)n=a[r],o.push(t.removeAttr("data-"+n.replace(/([A-Z])/g,"-$1").toLowerCase()));return o},t}(),window.TwitterFeed=t}).call(this);